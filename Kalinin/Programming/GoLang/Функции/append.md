---
создал заметку: 2024-07-04
---
Язык Go предоставляет встроенную функцию под названием `append` для добавления значений к существующему срезу. 

```
var data []string

for record := 1; record <= 102400; record++ {
	data = append(data, fmt.Sprintf("Rec: %d", record))
}
```

Функция `append` работает со срезом, даже когда срез инициализирован  в состояние нулевого значения. Интересным является дизайн API `append`, потому что для мутации он использует семантику значений. 
`append` получает копию значения среза, он модифицирует свою собственную копию, а затем возвращает эту копию вызывающей стороне. 

Идиоматичный подход состоит в использовании семантики значений для передачи значения [[Срезы(Slice)]] внутри программы. Это необходимо иметь в виду даже при операции программы. Кроме того, мутация на основе семантики значений является самым безопасным способом выполнения мутации, поскольку мутация выполняется на собственной копии данных функции в изоляции. 

`append` всегда сохраняет непрерывный блок памяти для базового массива [[Срезы(Slice)]], даже после увеличения.  Это важно для аппаратного обеспечения. 

![[Pasted image 20240704152116.png]]
