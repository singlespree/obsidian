---
создал заметку: 2024-06-30
---
### Это структура данных. которая работает по принципу "последним пришел - первым вышел" или же LIFO - Last In, First Out. Аналогия со стопкой тарелок. Первую положил, вторую сверху, третью сверху. Чтобы взять тарелку, ты берешь последнюю

1.  Управление памятью. Стек используется для хранения данных, связанных с функциями, такими, как локальные переменные и адреса возврата.
2.  Эффективность. Доступ к данным в стеке очень быстрый, так как новые данные всегда добавляются и удаляются с вершины стека.

### Стек используется для хранения данных, связанных с выполнением функций. Когда функция вызывается, для нее создается новый [[Фрейм]] в стеке, который содержит все локальные переменные и другую информацию, необходимую для выполнения функции. 

## Пример: 
```
package main

import "fmt"

func main() {
    a := 10
    b := 20
    result := add(a, b)
    fmt.Println(result)
}

func add(x, y int) int {
    return x + y
}
```

Когда функция `main` вызывает функцию `add`, для функции `add` создается новый фрейм в стеке, который содержит переменные `x` и `y`

Размер [[Фрейм]] для каждой функции определяется при компиляции. Значение не может быть создано на [[Стек]], если на этапе компиляции компилятор не знает размера этого значения. Если компилятор не знает размера значения на этапе компиляции, значение вынуждено создается на [[Куча]]

Стеки являются самоочищающимися, и нулевые значения облегчают инициализацию стека. Каждый раз, при вызове функции, под фрейм выделяется [[Блок памяти]]. Память этого [[Фрейм]] инициализируется, что позволяет самоочищаться [[Стек]]. При возврате из функции память фрейма остается нетронутой, поскольку неизвестно, потребуется ли эта память снова. Инициализация памяти при возврате была бы неэффективной. 

### Передача по значению

По ходу выполнения программы, все данные передаются по значению. Это означает, что при передаче данных через границы программы, каждая функция или [[Горутина]] получают свою собственную копию данных. Существуют два типа данных, с которыми вы будете работать: само значение (int, string, user) или адрес значения. Адреса - это данные, которые необходимо копировать и сохранять при передаче через границы программы. 